(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Wm2z:function(t,e,r){"use strict";r.r(e),r.d(e,"ProjectsModule",(function(){return O}));var o=r("ofXK"),c=r("3Pt+"),n=r("tyNb"),s=r("fXoL"),i=r("tk/3");let b=(()=>{class t{constructor(t){this.httpClient=t,this.myProjectsApi="https://api-base.herokuapp.com/api/pub/projects"}get projects(){return this.httpClient.get(this.myProjectsApi)}saveProject(t){return this.httpClient.post(this.myProjectsApi,{name:t})}findProject(t){return this.httpClient.get(this.myProjectsApi+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(i.b))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=r("G9TX");function a(t,e){if(1&t&&(s.Mb(0,"p"),s.ec(1),s.Lb()),2&t){const t=s.Vb();s.zb(1),s.gc("Actualmente tenemos ",t.projects.length," proyectos vigentes")}}function u(t,e){1&t&&(s.Mb(0,"p"),s.ec(1,"Sin proyectos"),s.Lb())}function d(t,e){if(1&t&&(s.Mb(0,"tr"),s.Mb(1,"td"),s.ec(2),s.Lb(),s.Mb(3,"td"),s.ec(4),s.Lb(),s.Lb()),2&t){const t=e.$implicit;s.zb(2),s.fc(t._id),s.zb(2),s.fc(t.name)}}let f=(()=>{class t{constructor(){this.projects=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-projects-list-component"]],inputs:{projects:"projects"},decls:17,vars:3,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["sinProyectos",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(s.Kb(0,"br"),s.Mb(1,"div",0),s.Mb(2,"h1"),s.ec(3,"Lista de Proyectos"),s.Lb(),s.cc(4,a,2,1,"p",1),s.cc(5,u,2,0,"ng-template",null,2,s.dc),s.Mb(7,"table"),s.Mb(8,"thead"),s.Mb(9,"tr"),s.Mb(10,"th"),s.ec(11,"#"),s.Lb(),s.Mb(12,"th"),s.ec(13,"Nombre Proyecto"),s.Lb(),s.Lb(),s.Lb(),s.Mb(14,"tbody"),s.cc(15,d,5,2,"tr",3),s.Lb(),s.Lb(),s.Lb(),s.Kb(16,"br")),2&t){const t=s.Zb(6);s.zb(4),s.Wb("ngIf",e.projects&&e.projects.length&&e.projects.length>0)("ngIfElse",t),s.zb(11),s.Wb("ngForOf",e.projects)}},directives:[o.i,o.h],styles:[""]}),t})(),l=(()=>{class t{constructor(t){this.formBuilder=t,this.createProject=new s.n}ngOnInit(){this.buildForm()}buildForm(){this.newProjectForm=this.formBuilder.group({name:["",[c.j.required]]})}saveProject(){const t=this.newProjectForm.get("name");this.createProject.emit(t.value)}getError(t){let e="";const r=this.newProjectForm.get(t);return r.touched&&null!=r.errors&&(e=JSON.stringify(r.errors)),e}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.b))},t.\u0275cmp=s.Db({type:t,selectors:[["app-new-project-form-component"]],outputs:{createProject:"createProject"},decls:13,vars:3,consts:[[1,"container"],[1,"form-group",3,"formGroup"],["for","name"],["name","name","formControlName","name","type","text",1,"form-control"],[3,"disabled","click"]],template:function(t,e){1&t&&(s.Kb(0,"br"),s.Mb(1,"div",0),s.Mb(2,"h3"),s.ec(3,"Nuevo proyecto"),s.Lb(),s.Mb(4,"form",1),s.Mb(5,"label",2),s.ec(6,"Nombre "),s.Lb(),s.Kb(7,"input",3),s.Mb(8,"span"),s.ec(9),s.Lb(),s.Mb(10,"button",4),s.Tb("click",(function(){return e.saveProject()})),s.ec(11,"Guardar"),s.Lb(),s.Lb(),s.Lb(),s.Kb(12,"br")),2&t&&(s.zb(4),s.Wb("formGroup",e.newProjectForm),s.zb(5),s.gc(" ",e.getError("name")," "),s.zb(1),s.Wb("disabled",e.newProjectForm.invalid))},directives:[c.k,c.g,c.d,c.a,c.f,c.c],styles:[""]}),t})(),m=(()=>{class t{constructor(t,e){this.projectsService=t,this.notificationsStore=e,this.projects=[]}ngOnInit(){this.projectsService.projects.subscribe(t=>this.projects=t)}saveProject(t){this.notificationsStore.dispatch("Creamos proyecto con nombre = "+t),this.projectsService.saveProject(t).subscribe(t=>{this.projects.push(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(b),s.Jb(p.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-new-project"]],decls:2,vars:1,consts:[[3,"projects"],[3,"createProject"]],template:function(t,e){1&t&&(s.Kb(0,"app-projects-list-component",0),s.Mb(1,"app-new-project-form-component",1),s.Tb("createProject",(function(t){return e.saveProject(t)})),s.Lb()),2&t&&s.Wb("projects",e.projects)},directives:[f,l],styles:[""]}),t})(),j=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-projects"]],decls:6,vars:0,consts:[[1,"sticky"],["routerLink","read",1,"btn","btn-dark"],["routerLink","new",1,"btn","btn-dark"]],template:function(t,e){1&t&&(s.Mb(0,"header",0),s.Mb(1,"a",1),s.ec(2,"Visualizar proyecto"),s.Lb(),s.Mb(3,"a",2),s.ec(4,"Nuevo proyecto"),s.Lb(),s.Lb(),s.Kb(5,"router-outlet"))},directives:[n.c,n.e],styles:[""]}),t})(),h=(()=>{class t{constructor(t){this.formBuilder=t,this.findProject=new s.n}ngOnInit(){this.buildForm()}buildForm(){this.filterForm=this.formBuilder.group({id:["",[c.j.required]]})}findProjectById(){const t=this.filterForm.get("id");this.findProject.emit(t.value)}getError(t){let e="";const r=this.filterForm.get(t);return r.touched&&null!=r.errors&&(e=JSON.stringify(r.errors)),e}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.b))},t.\u0275cmp=s.Db({type:t,selectors:[["app-filter-projects-form-component"]],outputs:{findProject:"findProject"},decls:13,vars:3,consts:[[1,"container"],[1,"form-group",3,"formGroup"],["for","id"],["name","id","formControlName","id","type","number",1,"form-control"],[3,"disabled","click"]],template:function(t,e){1&t&&(s.Kb(0,"br"),s.Mb(1,"div",0),s.Mb(2,"h3"),s.ec(3,"Buscar proyecto"),s.Lb(),s.Mb(4,"form",1),s.Mb(5,"label",2),s.ec(6,"Id Proyecto "),s.Lb(),s.Kb(7,"input",3),s.Mb(8,"span"),s.ec(9),s.Lb(),s.Mb(10,"button",4),s.Tb("click",(function(){return e.findProjectById()})),s.ec(11,"Buscar"),s.Lb(),s.Lb(),s.Lb(),s.Kb(12,"br")),2&t&&(s.zb(4),s.Wb("formGroup",e.filterForm),s.zb(5),s.gc(" ",e.getError("id"),""),s.zb(1),s.Wb("disabled",e.filterForm.invalid))},directives:[c.k,c.g,c.d,c.a,c.h,c.f,c.c],styles:[""]}),t})();function g(t,e){1&t&&(s.Mb(0,"h3"),s.ec(1,"Lista de Proyectos"),s.Lb())}function L(t,e){1&t&&(s.Mb(0,"h3"),s.ec(1,"Lista de Proyectos Detalle"),s.Lb())}function y(t,e){if(1&t&&(s.Mb(0,"p"),s.ec(1),s.Lb()),2&t){const t=s.Vb();s.zb(1),s.gc("Actualmente tenemos ",t.projects.length," proyectos vigentes")}}function I(t,e){1&t&&(s.Mb(0,"p"),s.ec(1,"Sin proyectos"),s.Lb())}function M(t,e){1&t&&(s.Mb(0,"th"),s.ec(1,"Ver"),s.Lb())}function v(t,e){if(1&t&&(s.Mb(0,"td"),s.Mb(1,"a",5),s.ec(2,"Visualizar"),s.Lb(),s.Lb()),2&t){const t=s.Vb().$implicit;s.zb(1),s.Xb("routerLink",t._id)}}function P(t,e){if(1&t&&(s.Mb(0,"tr"),s.Mb(1,"td"),s.ec(2),s.Lb(),s.Mb(3,"td"),s.ec(4),s.Lb(),s.cc(5,v,3,1,"td",1),s.Lb()),2&t){const t=e.$implicit,r=s.Vb();s.zb(2),s.fc(t._id),s.zb(2),s.fc(t.name),s.zb(1),s.Wb("ngIf",!r.projectId)}}let w=(()=>{class t{constructor(){this.projects=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-dashboard-component"]],inputs:{projects:"projects",projectId:"projectId"},decls:18,vars:6,consts:[[1,"container"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["sinProyectos",""],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,e){if(1&t&&(s.Kb(0,"br"),s.Mb(1,"div",0),s.cc(2,g,2,0,"h3",1),s.cc(3,L,2,0,"h3",1),s.cc(4,y,2,1,"p",2),s.cc(5,I,2,0,"ng-template",null,3,s.dc),s.Mb(7,"table"),s.Mb(8,"thead"),s.Mb(9,"tr"),s.Mb(10,"th"),s.ec(11,"#"),s.Lb(),s.Mb(12,"th"),s.ec(13,"Nombre Proyecto"),s.Lb(),s.cc(14,M,2,0,"th",1),s.Lb(),s.Lb(),s.Mb(15,"tbody"),s.cc(16,P,6,3,"tr",4),s.Lb(),s.Lb(),s.Lb(),s.Kb(17,"br")),2&t){const t=s.Zb(6);s.zb(2),s.Wb("ngIf",!e.projectId),s.zb(1),s.Wb("ngIf",e.projectId&&""!=e.projectId),s.zb(1),s.Wb("ngIf",e.projects&&e.projects.length&&e.projects.length>0)("ngIfElse",t),s.zb(10),s.Wb("ngIf",!e.projectId),s.zb(2),s.Wb("ngForOf",e.projects)}},directives:[o.i,o.h,n.c],styles:[""]}),t})();function z(t,e){1&t&&(s.Mb(0,"a",4),s.ec(1,"Volver"),s.Lb())}let F=(()=>{class t{constructor(t){this.formBuilder=t}ngOnInit(){this.buildForm()}buildForm(){this.viewForm=this.formBuilder.group({id:["",[]]})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.b))},t.\u0275cmp=s.Db({type:t,selectors:[["app-viewer-project-form-component"]],inputs:{projectId:"projectId"},decls:9,vars:3,consts:[[1,"container"],[3,"formGroup"],["for","id"],["routerLink","../","class","btn btn-secondary",4,"ngIf"],["routerLink","../",1,"btn","btn-secondary"]],template:function(t,e){1&t&&(s.Kb(0,"br"),s.Mb(1,"div",0),s.Mb(2,"h3"),s.ec(3,"Visualizaci\xf3n de un proyecto existente"),s.Lb(),s.Mb(4,"form",1),s.Mb(5,"label",2),s.ec(6),s.Lb(),s.cc(7,z,2,0,"a",3),s.Lb(),s.Lb(),s.Kb(8,"br")),2&t&&(s.zb(4),s.Wb("formGroup",e.viewForm),s.zb(2),s.gc("Id: ",e.projectId," "),s.zb(1),s.Wb("ngIf",e.projectId&&""!=e.projectId))},directives:[c.k,c.g,c.d,o.i,n.c],styles:[""]}),t})();function k(t,e){if(1&t&&s.Kb(0,"app-viewer-project-form-component",3),2&t){const t=s.Vb();s.Wb("projectId",t.projectId)}}let W=(()=>{class t{constructor(t,e,r){this.projectsService=e,this.notificationsStore=r,this.projects=[],this.projectId="",this.projectId=t.snapshot.params.id}ngOnInit(){this.projectsService.projects.subscribe(t=>this.projects=t)}findProject(t){this.notificationsStore.dispatch("Buscando proyecto con id = "+t.toString),this.projectsService.findProject(t).subscribe(t=>{const e=t;this.projects=[],this.projects.push(e)})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(n.a),s.Jb(b),s.Jb(p.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-viewer-project"]],decls:3,vars:3,consts:[[3,"findProject"],[3,"projects","projectId"],[3,"projectId",4,"ngIf"],[3,"projectId"]],template:function(t,e){1&t&&(s.Mb(0,"app-filter-projects-form-component",0),s.Tb("findProject",(function(t){return e.findProject(t)})),s.Lb(),s.Kb(1,"app-dashboard-component",1),s.cc(2,k,1,1,"app-viewer-project-form-component",2)),2&t&&(s.zb(1),s.Wb("projects",e.projects)("projectId",e.projectId),s.zb(1),s.Wb("ngIf",e.projectId&&""!=e.projectId))},directives:[h,w,o.i,F],styles:[""]}),t})();const K=[{path:"",component:j,children:[{path:"read/:id",component:W},{path:"read",component:W},{path:"new",component:m}]}];let S=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[n.d.forChild(K)],n.d]}),t})(),O=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[o.b,S,c.e,c.i]]}),t})()}}]);